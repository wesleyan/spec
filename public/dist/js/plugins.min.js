/*! Spec 0.2.0 */
!function(a){var b=function(b,c){this.options=a.extend({},a.fn.combobox.defaults,c),this.$source=a(b),this.$container=this.setup(),this.$element=this.$container.find("input[type=text]"),this.$target=this.$container.find("input[type=hidden]"),this.$button=this.$container.find(".dropdown-toggle"),this.$menu=a(this.options.menu).appendTo("body"),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.shown=!1,this.selected=!1,this.refresh(),this.transferAttributes(),this.listen()};b.prototype=a.extend({},a.fn.typeahead.Constructor.prototype,{constructor:b,setup:function(){var b=a(this.options.template);return this.$source.before(b),this.$source.hide(),b},parse:function(){var b=this,c={},d=[],e=!1;return this.$source.find("option").each(function(){var f=a(this);return""===f.val()?void(b.options.placeholder=f.text()):(c[f.text()]=f.val(),d.push(f.text()),void(f.attr("selected")&&(e=f.html())))}),this.map=c,e&&(this.$element.val(e),this.$container.addClass("combobox-selected"),this.selected=!0),d},transferAttributes:function(){this.options.placeholder=this.$source.attr("data-placeholder")||this.options.placeholder,this.$element.attr("placeholder",this.options.placeholder),this.$target.prop("name",this.$source.prop("name")),this.$source.removeAttr("name"),this.$element.attr("required",this.$source.attr("required")),this.$element.attr("rel",this.$source.attr("rel")),this.$element.attr("title",this.$source.attr("title")),this.$element.attr("class",this.$source.attr("class"))},toggle:function(){this.$container.hasClass("combobox-selected")?(this.clearTarget(),this.triggerChange(),this.clearElement()):this.shown?this.hide():(this.clearElement(),this.lookup())},clearElement:function(){this.$element.val("").focus()},clearTarget:function(){this.$source.val(""),this.$target.val(""),this.$container.removeClass("combobox-selected"),this.selected=!1},triggerChange:function(){this.$source.trigger("change")},refresh:function(){this.source=this.parse(),this.options.items=this.source.length},select:function(){var a=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(a)).trigger("change"),this.$source.val(this.map[a]).trigger("change"),this.$target.val(this.map[a]).trigger("change"),this.$container.addClass("combobox-selected"),this.selected=!0,this.hide()},lookup:function(){return this.query=this.$element.val(),this.process(this.source)},listen:function(){this.$element.on("focus",a.proxy(this.focus,this)).on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",a.proxy(this.keydown,this)),this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",a.proxy(this.mouseenter,this)).on("mouseleave","li",a.proxy(this.mouseleave,this)),this.$button.on("click",a.proxy(this.toggle,this))},keyup:function(a){switch(a.keyCode){case 40:case 39:case 38:case 37:case 36:case 35:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.clearTarget(),this.lookup()}a.stopPropagation(),a.preventDefault()},blur:function(){var a=this;this.focused=!1;var b=this.$element.val();this.selected||""===b||(this.$element.val(""),this.$source.val("").trigger("change"),this.$target.val("").trigger("change")),!this.mousedover&&this.shown&&setTimeout(function(){a.hide()},200)},mouseleave:function(){this.mousedover=!1}}),a.fn.combobox=function(c){return this.each(function(){var d=a(this),e=d.data("combobox"),f="object"==typeof c&&c;e||d.data("combobox",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.combobox.defaults={template:'<div class="combobox-container"><input type="hidden" /><input type="text" autocomplete="off" /><span class="add-on btn dropdown-toggle" data-dropdown="dropdown"><span class="caret"/><span class="combobox-clear"><i class="icon-remove"/></span></span></div>',menu:'<ul class="typeahead typeahead-long dropdown-menu"></ul>',item:'<li><a href="#"></a></li>'},a.fn.combobox.Constructor=b}(window.jQuery),!function(a){var b=function(b,c){this.$elements=a(b),this.options=c,this.before=this.options.before||this.before,this.onItem=this.options.onItem||this.onItem,this.options.target&&this.$elements.attr("data-target",this.options.target),this.listen()};b.prototype={constructor:b,show:function(b){var c,d,e=a(this);if(!e.is(".disabled, :disabled")&&(d=a.Event("context"),this.before.call(this,b,a(b.currentTarget)))){this.$elements.trigger(d),c=this.getMenu();var f=this.getPosition(b,c);return c.attr("style","").css(f).data("_context_this_ref",this).addClass("open"),!1}},closemenu:function(){this.getMenu().removeClass("open")},before:function(){return!0},onItem:function(){return!0},listen:function(){var b=this;this.$elements.on("contextmenu.context.data-api",a.proxy(this.show,this)),a("html").on("click.context.data-api",a.proxy(this.closemenu,this));var c=a(this.$elements.attr("data-target"));c.on("click.context.data-api",function(c){a(this).data("_context_this_ref")==b&&b.onItem.call(this,c,a(c.target))}),a("html").on("click.context.data-api",function(a){a.ctrlKey||c.removeClass("open")})},destroy:function(){this.$elements.off(".context.data-api").removeData("context"),a("html").off(".context.data-api");var b=a(this.$elements.attr("data-target"));b.off(".context.data-api")},getMenu:function(){var b,c=this.$elements.attr("data-target");return c||(c=this.$elements.attr("href"),c=c&&c.replace(/.*(?=#[^\s]*$)/,"")),b=a(c)},getPosition:function(b,c){var d,e,f=b.clientX,g=b.clientY,h=a(window).width(),i=a(window).height(),j=c.find(".dropdown-menu").outerWidth(),k=c.find(".dropdown-menu").outerHeight(),l={position:"fixed"};return d=g+k>i?{top:g-k}:{top:g},e=f+j>h&&f-j>0?{left:f-j}:{left:f},a.extend(l,d,e)},clearMenus:function(b){b.ctrlKey||a("[data-toggle=context]").each(function(){this.getMenu().removeClass("open")})}},a.fn.contextmenu=function(a,c){var d=this;return function(){var e=d.data("context"),f="object"==typeof a&&a;e||d.data("context",e=new b(d,f)),"string"==typeof a&&e[a].call(e,c)}()},a.fn.contextmenu.Constructor=b,a(document).on("contextmenu.context.data-api","[data-toggle=context]",function(b){a(this).contextmenu("show",b),b.preventDefault()})}(window.jQuery),!function(a){var b=function(b,d){if(this.element=a(b),this.format=c.parseFormat(d.format||this.element.data("date-format")||"mm/dd/yyyy"),this.picker=a(c.template).appendTo("body").on({click:a.proxy(this.click,this)}),this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on"):!1,this.isInput?this.element.on({focus:a.proxy(this.show,this),keyup:a.proxy(this.update,this)}):this.component?this.component.on("click",a.proxy(this.show,this)):this.element.on("click",a.proxy(this.show,this)),this.minViewMode=d.minViewMode||this.element.data("date-minviewmode")||0,"string"==typeof this.minViewMode)switch(this.minViewMode){case"months":this.minViewMode=1;break;case"years":this.minViewMode=2;break;default:this.minViewMode=0}if(this.viewMode=d.viewMode||this.element.data("date-viewmode")||0,"string"==typeof this.viewMode)switch(this.viewMode){case"months":this.viewMode=1;break;case"years":this.viewMode=2;break;default:this.viewMode=0}this.startViewMode=this.viewMode,this.weekStart=d.weekStart||this.element.data("date-weekstart")||0,this.weekEnd=0===this.weekStart?6:this.weekStart-1,this.onRender=d.onRender,this.fillDow(),this.fillMonths(),this.update(),this.showMode()};b.prototype={constructor:b,show:function(b){this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),a(window).on("resize",a.proxy(this.place,this)),b&&(b.stopPropagation(),b.preventDefault()),!this.isInput;var c=this;a(document).on("mousedown",function(b){0==a(b.target).closest(".datepicker").length&&c.hide()}),this.element.trigger({type:"show",date:this.date})},hide:function(){this.picker.hide(),a(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||a(document).off("mousedown",this.hide),this.element.trigger({type:"hide",date:this.date})},set:function(){var a=c.formatDate(this.date,this.format);this.isInput?this.element.prop("value",a):(this.component&&this.element.find("input").prop("value",a),this.element.data("date",a))},setValue:function(a){this.date="string"==typeof a?c.parseDate(a,this.format):new Date(a),this.set(),this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0),this.fill()},place:function(){var a=this.component?this.component.offset():this.element.offset();this.picker.css({top:a.top+this.height,left:a.left})},update:function(a){this.date=c.parseDate("string"==typeof a?a:this.isInput?this.element.prop("value"):this.element.data("date"),this.format),this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0),this.fill()},fillDow:function(){for(var a=this.weekStart,b="<tr>";a<this.weekStart+7;)b+='<th class="dow">'+c.dates.daysMin[a++%7]+"</th>";b+="</tr>",this.picker.find(".datepicker-days thead").append(b)},fillMonths:function(){for(var a="",b=0;12>b;)a+='<span class="month">'+c.dates.monthsShort[b++]+"</span>";this.picker.find(".datepicker-months td").append(a)},fill:function(){var a=new Date(this.viewDate),b=a.getFullYear(),d=a.getMonth(),e=this.date.valueOf();this.picker.find(".datepicker-days th:eq(1)").text(c.dates.months[d]+" "+b);var f=new Date(b,d-1,28,0,0,0,0),g=c.getDaysInMonth(f.getFullYear(),f.getMonth());f.setDate(g),f.setDate(g-(f.getDay()-this.weekStart+7)%7);var h=new Date(f);h.setDate(h.getDate()+42),h=h.valueOf();for(var i,j,k,l=[];f.valueOf()<h;)f.getDay()===this.weekStart&&l.push("<tr>"),i=this.onRender(f),j=f.getFullYear(),k=f.getMonth(),d>k&&j===b||b>j?i+=" old":(k>d&&j===b||j>b)&&(i+=" new"),f.valueOf()===e&&(i+=" active"),l.push('<td class="day '+i+'">'+f.getDate()+"</td>"),f.getDay()===this.weekEnd&&l.push("</tr>"),f.setDate(f.getDate()+1);this.picker.find(".datepicker-days tbody").empty().append(l.join(""));var m=this.date.getFullYear(),n=this.picker.find(".datepicker-months").find("th:eq(1)").text(b).end().find("span").removeClass("active");m===b&&n.eq(this.date.getMonth()).addClass("active"),l="",b=10*parseInt(b/10,10);var o=this.picker.find(".datepicker-years").find("th:eq(1)").text(b+"-"+(b+9)).end().find("td");b-=1;for(var p=-1;11>p;p++)l+='<span class="year'+(-1===p||10===p?" old":"")+(m===b?" active":"")+'">'+b+"</span>",b+=1;o.html(l)},click:function(b){b.stopPropagation(),b.preventDefault();var d=a(b.target).closest("span, td, th");if(1===d.length)switch(d[0].nodeName.toLowerCase()){case"th":switch(d[0].className){case"switch":this.showMode(1);break;case"prev":case"next":this.viewDate["set"+c.modes[this.viewMode].navFnc].call(this.viewDate,this.viewDate["get"+c.modes[this.viewMode].navFnc].call(this.viewDate)+c.modes[this.viewMode].navStep*("prev"===d[0].className?-1:1)),this.fill(),this.set()}break;case"span":if(d.is(".month")){var e=d.parent().find("span").index(d);this.viewDate.setMonth(e)}else{var f=parseInt(d.text(),10)||0;this.viewDate.setFullYear(f)}0!==this.viewMode&&(this.date=new Date(this.viewDate),this.element.trigger({type:"changeDate",date:this.date,viewMode:c.modes[this.viewMode].clsName})),this.showMode(-1),this.fill(),this.set();break;case"td":if(d.is(".day")&&!d.is(".disabled")){var g=parseInt(d.text(),10)||1,e=this.viewDate.getMonth();d.is(".old")?e-=1:d.is(".new")&&(e+=1);var f=this.viewDate.getFullYear();this.date=new Date(f,e,g,0,0,0,0),this.viewDate=new Date(f,e,Math.min(28,g),0,0,0,0),this.fill(),this.set(),this.element.trigger({type:"changeDate",date:this.date,viewMode:c.modes[this.viewMode].clsName})}}},mousedown:function(a){a.stopPropagation(),a.preventDefault()},showMode:function(a){a&&(this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+a))),this.picker.find(">div").hide().filter(".datepicker-"+c.modes[this.viewMode].clsName).show()}},a.fn.datepicker=function(c,d){return this.each(function(){var e=a(this),f=e.data("datepicker"),g="object"==typeof c&&c;f||e.data("datepicker",f=new b(this,a.extend({},a.fn.datepicker.defaults,g))),"string"==typeof c&&f[c](d)})},a.fn.datepicker.defaults={onRender:function(){return""}},a.fn.datepicker.Constructor=b;var c={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],dates:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},isLeapYear:function(a){return a%4===0&&a%100!==0||a%400===0},getDaysInMonth:function(a,b){return[31,c.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},parseFormat:function(a){var b=a.match(/[.\/\-\s].*?/),c=a.split(/\W+/);if(!b||!c||0===c.length)throw new Error("Invalid date format.");return{separator:b,parts:c}},parseDate:function(a,b){var c,d=a.split(b.separator),a=new Date;if(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),d.length===b.parts.length){for(var e=a.getFullYear(),f=a.getDate(),g=a.getMonth(),h=0,i=b.parts.length;i>h;h++)switch(c=parseInt(d[h],10)||1,b.parts[h]){case"dd":case"d":f=c,a.setDate(c);break;case"mm":case"m":g=c-1,a.setMonth(c-1);break;case"yy":e=2e3+c,a.setFullYear(2e3+c);break;case"yyyy":e=c,a.setFullYear(c)}a=new Date(e,g,f,0,0,0)}return a},formatDate:function(a,b){var c={d:a.getDate(),m:a.getMonth()+1,yy:a.getFullYear().toString().substring(2),yyyy:a.getFullYear()};c.dd=(c.d<10?"0":"")+c.d,c.mm=(c.m<10?"0":"")+c.m;for(var a=[],d=0,e=b.parts.length;e>d;d++)a.push(c[b.parts[d]]);return a.join(b.separator)},headTemplate:'<thead><tr><th class="prev">&lsaquo;</th><th colspan="5" class="switch"></th><th class="next">&rsaquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};c.template='<div class="datepicker dropdown-menu"><div class="datepicker-days"><table class=" table-condensed">'+c.headTemplate+'<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">'+c.headTemplate+c.contTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+c.headTemplate+c.contTemplate+"</table></div></div>"}(window.jQuery),!function(a){var b=function(b,c){this.options=c,this.$element=a(b).delegate('[data-dismiss="modal-popup"]',"click.dismiss.modal-popup",a.proxy(this.hide,this)),this.options.remote&&this.$element.find(".popover-content").load(this.options.remote),this.$parent=c.$parent};b.prototype=a.extend({},a.fn.modal.Constructor.prototype,{constructor:b,getPosition:function(){var b=this.$parent;return a.extend({},b.offset(),{width:b[0].offsetWidth,height:b[0].offsetHeight})},show:function(){var b=this.$element;b.css({top:0,left:0,display:"block","z-index":1050});var c,d="function"==typeof this.options.placement?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement,e=this.getPosition(),f=400,g=b[0].offsetHeight;switch(d){case"bottom":c={top:e.top+e.height,left:e.left+e.width/2-f/2};break;case"top":c={top:e.top-g,left:e.left+e.width/2-f/2};break;case"left":c={top:e.top+e.height/2-g/2,left:e.left-f};break;case"right":c={top:e.top+e.height/2-g/2,left:e.left+e.width}}b.css(c).addClass(d).addClass("in"),a.fn.modal.Constructor.prototype.show.call(this,arguments)},backdrop:function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;this.$backdrop=a('<div class="modal-backdrop '+c+'" style="background:none" />').appendTo(document.body),"static"!=this.options.backdrop&&this.$backdrop.click(a.proxy(this.hide,this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),d?this.$backdrop.one(a.support.transition.end,b):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,a.proxy(this.removeBackdrop,this)):this.removeBackdrop()):b&&b()}}),a.fn.modalPopover=function(c){return this.each(function(){var d=a(this),e=d.data("modal-popover"),f=a.extend({},a.fn.modalPopover.defaults,d.data(),"object"==typeof c&&c);f.$parent=e&&e.$parent||c.$parent||a(f.target),e||d.data("modal-popover",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.modalPopover.Constructor=b,a.fn.modalPopover.defaults=a.extend({},a.fn.modal.defaults,{placement:"right",keyboard:!0}),a(function(){a("body").on("click.modal-popover.data-api",'[data-toggle="modal-popover"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal-popover")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());f.$parent=c,b.preventDefault(),e.modalPopover(f).modalPopover("show").one("hide",function(){c.focus()})})})}(window.jQuery),function(a){function b(b,e){c=!1,this.options=a.extend(!0,{},d,e);var f=this;f.options.values_url&&a.ajax({dataType:"json",type:"get",async:!1,url:f.options.values_url}).done(function(b){"object"==typeof b&&(f.options.values=a.merge(f.options.values,b))}),f.options.values=f.options.onLoadDefaults(f.options.values);var g=a(document.createElement("span")).addClass("pills-list").appendTo(b);if(f.options.values=f._prepare(f.options.values),a.each(f.options.values,function(a,b){f.addTag(g,b)}),f.options.can_add){var h=[],i=[],j=a(document.createElement("input")).addClass("tag-input").attr({autocomplete:"off",type:"text"}).css("outline","none").typeahead({items:f.options.suggestion_limit,source:function(b){var c=a.merge([],f.options.suggestions);return h=[],i={},f.options.suggestion_url&&a.ajax({dataType:"json",type:"get",async:!1,url:f.options.suggestion_url,data:{q:b,limit:f.options.suggestion_limit}}).done(function(b){"object"==typeof b&&(c=a.merge(c,b))}),c=f.options.onLoadSuggestions(c),c=f._prepare(c),a.each(c,function(a,b){i[b.suggest]=b,h.push(b.suggest)}),h},updater:function(a){f._addTag(g,j,i[a])}}).click(function(a){a.stopPropagation()});0==f.options.only_suggestions&&j.keyup(function(b){a(this).val()&&13==b.keyCode&&f._addTag(g,a(this))});{var k=a(f.options.templates.input_pill).append(j).append(a(f.options.templates.ok_icon).css("cursor","pointer").click(function(a){a.stopPropagation(),f._addTag(g,j),j.focus()})).hide().appendTo(b);a(f.options.templates.add_pill).addClass("add-pill").css("cursor","pointer").append(a(document.createElement("span")).attr({}).addClass("tag-add").append(f.options.templates.plus_icon)).click(function(){k.show(),j.focus();var b=a(this);b.hide(),setTimeout(function(){a("body").one("click",function(){k.hide(),b.show()})},200)}).appendTo(b)}}}var c=!1,d={values:[],values_url:"",templates:{pill:'<span class="badge btn-primary tag-badge">{0}</span>',add_pill:'<span class="badge tag-badge">...</span>',input_pill:'<span class="badge tag-badge"></span>',number:" <sup><small>{0}</small></sup>",plus_icon:'<i class="icon-plus-sign tag-icon"></i>',delete_icon:'<i class="icon-remove-sign tag-icon" data-toggle="tooltip" title="Delete"></i>',ok_icon:'<i class="icon-ok-sign tag-icon"></i>'},limit:0,tag_link_target:"",can_delete:!0,can_add:!0,double_hilight:"#0B3549",input_name:"tags[]",lang:{"delete":"Delete",limit:"You have reached limit of only {0} tags to be added."},suggestion_limit:15,suggestion_url:"",suggestions:[],only_suggestions:!1,remove_url:"",onLoadDefaults:function(a){return a},onRemove:function(){},onError:function(a,b){alert(b)},onDuplicate:null,onBeforeAdd:function(a){return a},onBeforeNewAdd:function(a){return a},onLoadSuggestions:function(a){return a},onDuplicate:null,onBeforeRemove:function(){return!0}};b.prototype._prepare=function(b){return a.each(b,function(a,c){return c?("string"==typeof c&&(b[a]={id:c,text:c,suggest:c}),b[a].suggest=b[a].suggest||b[a].text,b[a].url=c.url||"",b[a].title=c.title||"",void(b[a].num=parseInt(c.num||"0"))):(delete b[a],!0)}),b},b.prototype._addTag=function(a,b,c){c||(c=this._prepare([b.val()])[0]),this.addTag(a,c)&&b.val("").focus()},b.prototype.addTag=function(b,d){var e=this;if(!d)return!1;if(parseInt(e.options.limit)>0&&b.children().length>=parseInt(e.options.limit))return e.options.onError(10,e.options.lang.limit.format(e.options.limit)),!1;("undefined"==typeof d.id||"undefined"==typeof d.text)&&(e.options.onError(11,"Not correct object format to create tag/pill"),a.error("Not correct object format to create tag/pill"));var f="";if(a.each(b.children(),function(b,c){return d.id.toString().toLowerCase()==a(c).data("tag-id").toString().toLowerCase()?(f=a(c),!1):void 0}),f){if(!e.options.onDuplicate){var g=a(b.children()[0]).css("background-color");return f.stop().animate({backgroundColor:e.options.double_hilight},100,"swing",function(){f.stop().animate({backgroundColor:g},100,"swing",function(){f.css("background-color","")})}),!1}if(1!=e.options.onDuplicate(f,d))return!1}if(d.url){var h=d.title?' data-toggle="tooltip" title="'+d.title+'"':"";d.text='<a class="tag-link" '+h+' target="'+e.options.tag_link_target+'" href="'+d.url+'">'+d.text+"</a>"}var i="";e.options.can_delete&&(i=a(document.createElement("a")).attr({href:"javascript:void(0)","class":"tag-remove"}).html(e.options.templates.delete_icon.toString()).click(function(){e.removeTag(this)}));var j=d.num>0?e.options.templates.number.format(d.num):"",k=a(e.options.templates.pill.format(d.text)).attr("data-tag-id",d.id).append(j,i,a(document.createElement("input")).attr({"data-tag-hidden":d.id,name:e.options.input_name,type:"hidden",value:d.id})).css({"white-space":"nowrap"});return k=0==c?e.options.onBeforeAdd(k,d):e.options.onBeforeNewAdd(k,d),b.append(k),a('[data-toggle="tooltip"]').tooltip(),!0},b.prototype.removeTag=function(b){var c=this,d=a(b).closest("[data-tag-id]");c.options.remove_url&&a.ajax({dataType:"json",type:"post",async:!1,url:c.options.remove_url,data:{id:d.data("tag-id")}}),c.options.onBeforeRemove(d)!==!1&&d.animate({width:0,"padding-right":0,"padding-left":0},200,"swing",function(){var b=a(this);c.options.onRemove(b),b.remove()})},a.fn.tags=function(d){return this.each(function(){new b(a(this),d),c=!0})}}(window.jQuery),String.prototype.format||(String.prototype.format=function(){var a=arguments;return this.replace(/{(\d+)}/g,function(b,c){return"undefined"!=typeof a[c]?a[c]:b})}),function(a,b,c,d){var e=function(b,c){this.widget="",this.$element=a(b),this.defaultTime=c.defaultTime,this.disableFocus=c.disableFocus,this.isOpen=c.isOpen,this.minuteStep=c.minuteStep,this.modalBackdrop=c.modalBackdrop,this.secondStep=c.secondStep,this.showInputs=c.showInputs,this.showMeridian=c.showMeridian,this.showSeconds=c.showSeconds,this.template=c.template,this.appendWidgetTo=c.appendWidgetTo,this._init()};e.prototype={constructor:e,_init:function(){var b=this;this.$element.parent().hasClass("input-append")||this.$element.parent().hasClass("input-prepend")?(this.$element.parent(".input-append, .input-prepend").find(".add-on").on({"click.timepicker":a.proxy(this.showWidget,this)}),this.$element.on({"focus.timepicker":a.proxy(this.highlightUnit,this),"click.timepicker":a.proxy(this.highlightUnit,this),"keydown.timepicker":a.proxy(this.elementKeydown,this),"blur.timepicker":a.proxy(this.blurElement,this)})):this.$element.on(this.template?{"focus.timepicker":a.proxy(this.showWidget,this),"click.timepicker":a.proxy(this.showWidget,this),"blur.timepicker":a.proxy(this.blurElement,this)}:{"focus.timepicker":a.proxy(this.highlightUnit,this),"click.timepicker":a.proxy(this.highlightUnit,this),"keydown.timepicker":a.proxy(this.elementKeydown,this),"blur.timepicker":a.proxy(this.blurElement,this)}),this.$widget=this.template!==!1?a(this.getTemplate()).prependTo(this.$element.parents(this.appendWidgetTo)).on("click",a.proxy(this.widgetClick,this)):!1,this.showInputs&&this.$widget!==!1&&this.$widget.find("input").each(function(){a(this).on({"click.timepicker":function(){a(this).select()},"keydown.timepicker":a.proxy(b.widgetKeydown,b)})}),this.setDefaultTime(this.defaultTime)},blurElement:function(){this.highlightedUnit=d,this.updateFromElementVal()},decrementHour:function(){if(this.showMeridian)if(1===this.hour)this.hour=12;else{if(12===this.hour)return this.hour--,this.toggleMeridian();if(0===this.hour)return this.hour=11,this.toggleMeridian();this.hour--}else 0===this.hour?this.hour=23:this.hour--;this.update()},decrementMinute:function(a){var b;b=a?this.minute-a:this.minute-this.minuteStep,0>b?(this.decrementHour(),this.minute=b+60):this.minute=b,this.update()},decrementSecond:function(){var a=this.second-this.secondStep;0>a?(this.decrementMinute(!0),this.second=a+60):this.second=a,this.update()},elementKeydown:function(a){switch(a.keyCode){case 9:switch(this.updateFromElementVal(),this.highlightedUnit){case"hour":a.preventDefault(),this.highlightNextUnit();break;case"minute":(this.showMeridian||this.showSeconds)&&(a.preventDefault(),this.highlightNextUnit());break;case"second":this.showMeridian&&(a.preventDefault(),this.highlightNextUnit())}break;case 27:this.updateFromElementVal();break;case 37:a.preventDefault(),this.highlightPrevUnit(),this.updateFromElementVal();break;case 38:switch(a.preventDefault(),this.highlightedUnit){case"hour":this.incrementHour(),this.highlightHour();break;case"minute":this.incrementMinute(),this.highlightMinute();break;case"second":this.incrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}break;case 39:a.preventDefault(),this.updateFromElementVal(),this.highlightNextUnit();break;case 40:switch(a.preventDefault(),this.highlightedUnit){case"hour":this.decrementHour(),this.highlightHour();break;case"minute":this.decrementMinute(),this.highlightMinute();break;case"second":this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}}},formatTime:function(a,b,c,d){return a=10>a?"0"+a:a,b=10>b?"0"+b:b,c=10>c?"0"+c:c,a+":"+b+(this.showSeconds?":"+c:"")+(this.showMeridian?" "+d:"")},getCursorPosition:function(){var a=this.$element.get(0);if("selectionStart"in a)return a.selectionStart;if(c.selection){a.focus();var b=c.selection.createRange(),d=c.selection.createRange().text.length;return b.moveStart("character",-a.value.length),b.text.length-d}},getTemplate:function(){var a,b,c,d,e,f;switch(this.showInputs?(b='<input type="text" name="hour" class="bootstrap-timepicker-hour" maxlength="2"/>',c='<input type="text" name="minute" class="bootstrap-timepicker-minute" maxlength="2"/>',d='<input type="text" name="second" class="bootstrap-timepicker-second" maxlength="2"/>',e='<input type="text" name="meridian" class="bootstrap-timepicker-meridian" maxlength="2"/>'):(b='<span class="bootstrap-timepicker-hour"></span>',c='<span class="bootstrap-timepicker-minute"></span>',d='<span class="bootstrap-timepicker-second"></span>',e='<span class="bootstrap-timepicker-meridian"></span>'),f='<table><tr><td><a href="#" data-action="incrementHour"><i class="icon-chevron-up"></i></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><i class="icon-chevron-up"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><i class="icon-chevron-up"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><i class="icon-chevron-up"></i></a></td>':"")+"</tr><tr><td>"+b+'</td> <td class="separator">:</td><td>'+c+"</td> "+(this.showSeconds?'<td class="separator">:</td><td>'+d+"</td>":"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td>'+e+"</td>":"")+'</tr><tr><td><a href="#" data-action="decrementHour"><i class="icon-chevron-down"></i></a></td><td class="separator"></td><td><a href="#" data-action="decrementMinute"><i class="icon-chevron-down"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><i class="icon-chevron-down"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><i class="icon-chevron-down"></i></a></td>':"")+"</tr></table>",this.template){case"modal":a='<div class="bootstrap-timepicker-widget modal hide fade in" data-backdrop="'+(this.modalBackdrop?"true":"false")+'"><div class="modal-header"><a href="#" class="close" data-dismiss="modal">Ã—</a><h3>Pick a Time</h3></div><div class="modal-content">'+f+'</div><div class="modal-footer"><a href="#" class="btn btn-primary" data-dismiss="modal">OK</a></div></div>';break;case"dropdown":a='<div class="bootstrap-timepicker-widget dropdown-menu">'+f+"</div>"}return a},getTime:function(){return this.formatTime(this.hour,this.minute,this.second,this.meridian)},hideWidget:function(){this.isOpen!==!1&&(this.showInputs&&this.updateFromWidgetInputs(),this.$element.trigger({type:"hide.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),"modal"===this.template&&this.$widget.modal&&this.$widget.modal("hide"),a(c).off("mousedown.timepicker"),this.isOpen=!1)},highlightUnit:function(){this.position=this.getCursorPosition(),this.position>=0&&this.position<=2?this.highlightHour():this.position>=3&&this.position<=5?this.highlightMinute():this.position>=6&&this.position<=8?this.showSeconds?this.highlightSecond():this.highlightMeridian():this.position>=9&&this.position<=11&&this.highlightMeridian()},highlightNextUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":this.showSeconds?this.highlightSecond():this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"second":this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"meridian":this.highlightHour()}},highlightPrevUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMeridian();break;case"minute":this.highlightHour();break;case"second":this.highlightMinute();break;case"meridian":this.showSeconds?this.highlightSecond():this.highlightMinute()}},highlightHour:function(){var a=this.$element.get(0);this.highlightedUnit="hour",a.setSelectionRange&&setTimeout(function(){a.setSelectionRange(0,2)},0)},highlightMinute:function(){var a=this.$element.get(0);this.highlightedUnit="minute",a.setSelectionRange&&setTimeout(function(){a.setSelectionRange(3,5)},0)},highlightSecond:function(){var a=this.$element.get(0);this.highlightedUnit="second",a.setSelectionRange&&setTimeout(function(){a.setSelectionRange(6,8)},0)},highlightMeridian:function(){var a=this.$element.get(0);this.highlightedUnit="meridian",a.setSelectionRange&&(this.showSeconds?setTimeout(function(){a.setSelectionRange(9,11)},0):setTimeout(function(){a.setSelectionRange(6,8)},0))},incrementHour:function(){if(this.showMeridian){if(11===this.hour)return this.hour++,this.toggleMeridian();12===this.hour&&(this.hour=0)}return 23===this.hour?void(this.hour=0):(this.hour++,void this.update())},incrementMinute:function(a){var b;b=a?this.minute+a:this.minute+this.minuteStep-this.minute%this.minuteStep,b>59?(this.incrementHour(),this.minute=b-60):this.minute=b,this.update()},incrementSecond:function(){var a=this.second+this.secondStep-this.second%this.secondStep;a>59?(this.incrementMinute(!0),this.second=a-60):this.second=a,this.update()},remove:function(){a("document").off(".timepicker"),this.$widget&&this.$widget.remove(),delete this.$element.data().timepicker},setDefaultTime:function(a){if(this.$element.val())this.updateFromElementVal();else if("current"===a){var b=new Date,c=b.getHours(),d=Math.floor(b.getMinutes()/this.minuteStep)*this.minuteStep,e=Math.floor(b.getSeconds()/this.secondStep)*this.secondStep,f="AM";
this.showMeridian&&(0===c?c=12:c>=12?(c>12&&(c-=12),f="PM"):f="AM"),this.hour=c,this.minute=d,this.second=e,this.meridian=f,this.update()}else a===!1?(this.hour=0,this.minute=0,this.second=0,this.meridian="AM"):this.setTime(a)},setTime:function(a){var b,c;this.showMeridian?(b=a.split(" "),c=b[0].split(":"),this.meridian=b[1]):c=a.split(":"),this.hour=parseInt(c[0],10),this.minute=parseInt(c[1],10),this.second=parseInt(c[2],10),isNaN(this.hour)&&(this.hour=0),isNaN(this.minute)&&(this.minute=0),this.showMeridian?(this.hour>12?this.hour=12:this.hour<1&&(this.hour=12),"am"===this.meridian||"a"===this.meridian?this.meridian="AM":("pm"===this.meridian||"p"===this.meridian)&&(this.meridian="PM"),"AM"!==this.meridian&&"PM"!==this.meridian&&(this.meridian="AM")):this.hour>=24?this.hour=23:this.hour<0&&(this.hour=0),this.minute<0?this.minute=0:this.minute>=60&&(this.minute=59),this.showSeconds&&(isNaN(this.second)?this.second=0:this.second<0?this.second=0:this.second>=60&&(this.second=59)),this.update()},showWidget:function(){if(!this.isOpen&&!this.$element.is(":disabled")){var b=this;a(c).on("mousedown.timepicker",function(c){0===a(c.target).closest(".bootstrap-timepicker-widget").length&&b.hideWidget()}),this.$element.trigger({type:"show.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.disableFocus&&this.$element.blur(),this.updateFromElementVal(),"modal"===this.template&&this.$widget.modal?this.$widget.modal("show").on("hidden",a.proxy(this.hideWidget,this)):this.isOpen===!1,this.isOpen=!0}},toggleMeridian:function(){this.meridian="AM"===this.meridian?"PM":"AM",this.update()},update:function(){this.$element.trigger({type:"changeTime.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.updateElement(),this.updateWidget()},updateElement:function(){this.$element.val(this.getTime()).change()},updateFromElementVal:function(){var a=this.$element.val();a&&this.setTime(a)},updateWidget:function(){if(this.$widget!==!1){var a=this.hour<10?"0"+this.hour:this.hour,b=this.minute<10?"0"+this.minute:this.minute,c=this.second<10?"0"+this.second:this.second;this.showInputs?(this.$widget.find("input.bootstrap-timepicker-hour").val(a),this.$widget.find("input.bootstrap-timepicker-minute").val(b),this.showSeconds&&this.$widget.find("input.bootstrap-timepicker-second").val(c),this.showMeridian&&this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)):(this.$widget.find("span.bootstrap-timepicker-hour").text(a),this.$widget.find("span.bootstrap-timepicker-minute").text(b),this.showSeconds&&this.$widget.find("span.bootstrap-timepicker-second").text(c),this.showMeridian&&this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian))}},updateFromWidgetInputs:function(){if(this.$widget!==!1){var b=a("input.bootstrap-timepicker-hour",this.$widget).val()+":"+a("input.bootstrap-timepicker-minute",this.$widget).val()+(this.showSeconds?":"+a("input.bootstrap-timepicker-second",this.$widget).val():"")+(this.showMeridian?" "+a("input.bootstrap-timepicker-meridian",this.$widget).val():"");this.setTime(b)}},widgetClick:function(b){b.stopPropagation(),b.preventDefault();var c=a(b.target).closest("a").data("action");c&&this[c]()},widgetKeydown:function(b){var c=a(b.target).closest("input"),d=c.attr("name");switch(b.keyCode){case 9:if(this.showMeridian){if("meridian"===d)return this.hideWidget()}else if(this.showSeconds){if("second"===d)return this.hideWidget()}else if("minute"===d)return this.hideWidget();this.updateFromWidgetInputs();break;case 27:this.hideWidget();break;case 38:switch(b.preventDefault(),d){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian()}break;case 40:switch(b.preventDefault(),d){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian()}}}},a.fn.timepicker=function(b){var c=Array.apply(null,arguments);return c.shift(),this.each(function(){var d=a(this),f=d.data("timepicker"),g="object"==typeof b&&b;f||d.data("timepicker",f=new e(this,a.extend({},a.fn.timepicker.defaults,g,a(this).data()))),"string"==typeof b&&f[b].apply(f,c)})},a.fn.timepicker.defaults={defaultTime:"current",disableFocus:!1,isOpen:!1,minuteStep:15,modalBackdrop:!1,secondStep:15,showSeconds:!1,showInputs:!0,showMeridian:!0,template:"dropdown",appendWidgetTo:".bootstrap-timepicker"},a.fn.timepicker.Constructor=e}(jQuery,window,document),function(){var a;a=jQuery,a.bootstrapGrowl=function(b,c){var d,e,f;switch(c=a.extend({},a.bootstrapGrowl.default_options,c),d=a("<div>"),d.attr("class","bootstrap-growl alert"),c.type&&d.addClass("alert-"+c.type),c.allow_dismiss&&d.append('<a class="close" data-dismiss="alert" href="#">&times;</a>'),d.append(b),c.top_offset&&(c.offset={from:"top",amount:c.top_offset}),f=c.offset.amount,a(".bootstrap-growl").each(function(){return f=Math.max(f,parseInt(a(this).css(c.offset.from))+a(this).outerHeight()+c.stackup_spacing)}),e={position:"body"===c.ele?"fixed":"absolute",margin:0,"z-index":"9999",display:"none"},e[c.offset.from]=f+"px",d.css(e),"auto"!==c.width&&d.css("width",c.width+"px"),a(c.ele).append(d),c.align){case"center":d.css({left:"50%","margin-left":"-"+d.outerWidth()/2+"px"});break;case"left":d.css("left","20px");break;default:d.css("right","20px")}return d.fadeIn(),c.delay>0&&d.delay(c.delay).fadeOut(function(){return a(this).alert("close")}),d},a.bootstrapGrowl.default_options={ele:"body",type:"info",offset:{from:"top",amount:20},align:"right",width:250,delay:4e3,allow_dismiss:!0,stackup_spacing:10}}.call(this),function(){var a=function(a,b){this.$element=$(a),this.options=$.extend({},$.fn.spinner.defaults,b),this.$input=this.$element.find(".spinner-input"),this.$element.on("keyup",this.$input,$.proxy(this.change,this)),this.options.hold?(this.$element.on("mousedown",".spinner-up",$.proxy(function(){this.startSpin(!0)},this)),this.$element.on("mouseup",".spinner-up, .spinner-down",$.proxy(this.stopSpin,this)),this.$element.on("mouseout",".spinner-up, .spinner-down",$.proxy(this.stopSpin,this)),this.$element.on("mousedown",".spinner-down",$.proxy(function(){this.startSpin(!1)},this))):(this.$element.on("click",".spinner-up",$.proxy(function(){this.step(!0)},this)),this.$element.on("click",".spinner-down",$.proxy(function(){this.step(!1)},this))),this.switches={count:1,enabled:!0},this.switches.speed="medium"===this.options.speed?300:"fast"===this.options.speed?100:500,this.lastValue=null,this.render(),this.options.disabled&&this.disable()};a.prototype={constructor:a,render:function(){var a=this.$input.val();a?this.value(a):this.$input.val(this.options.value),this.$input.attr("maxlength",(this.options.max+"").split("").length)},change:function(){var a=this.$input.val();a/1?this.options.value=a/1:(a=a.replace(/[^0-9]/g,""),this.$input.val(a),this.options.value=a/1),this.triggerChangedEvent()},stopSpin:function(){clearTimeout(this.switches.timeout),this.switches.count=1,this.triggerChangedEvent()},triggerChangedEvent:function(){var a=this.value();a!==this.lastValue&&(this.lastValue=a,this.$element.trigger("changed",a),this.$element.trigger("change"))},startSpin:function(a){if(!this.options.disabled){var b=this.switches.count;1===b?(this.step(a),b=1):b=3>b?1.5:8>b?2.5:4,this.switches.timeout=setTimeout($.proxy(function(){this.iterator(a)},this),this.switches.speed/b),this.switches.count++}},iterator:function(a){this.step(a),this.startSpin(a)},step:function(a){var b=this.options.value,c=a?this.options.max:this.options.min;if(a?c>b:b>c){var d=b+(a?1:-1)*this.options.step;this.value((a?d>c:c>d)?c:d)}else if(this.options.cycle){var e=a?this.options.min:this.options.max;this.value(e)}},value:function(a){return!isNaN(parseFloat(a))&&isFinite(a)?(a=parseFloat(a),this.options.value=a,this.$input.val(a),this):this.options.value},disable:function(){this.options.disabled=!0,this.$input.attr("disabled",""),this.$element.find("button").addClass("disabled")},enable:function(){this.options.disabled=!1,this.$input.removeAttr("disabled"),this.$element.find("button").removeClass("disabled")}},$.fn.spinner=function(b,c){var d,e=this.each(function(){var e=$(this),f=e.data("spinner"),g="object"==typeof b&&b;f||e.data("spinner",f=new a(this,g)),"string"==typeof b&&(d=f[b](c))});return void 0===d?e:d},$.fn.spinner.defaults={value:1,min:1,max:999,step:1,hold:!0,speed:"medium",disabled:!1},$.fn.spinner.Constructor=a,$(function(){$("body").on("mousedown.spinner.data-api",".spinner",function(){var a=$(this);a.data("spinner")||a.spinner(a.data())})})}();